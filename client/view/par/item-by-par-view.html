<div class="supply-table" ng-controller="ItemByPARCtrl as par">
	<div>
		<h3>List of All Supplies Under Property Acknowledgement Receipt Number {{par.id}}</h3>
	</div>
	<table st-table="par.itemsToDisplay" st-safe-src="par.items" class="table table-striped">
		<thead>
			<tr class="table-control">
				<th class="col-sm-3" colspan="2">
					<p class="input-group">
						<span class="input-group-addon">
							<i class="glyphicon glyphicon-search"></i>
						</span>
						<input placeholder="Global search" st-search class="form-control" type="text"/>
					</p>
				</th>
				<th class="col-sm-3" colspan="7">
					<div st-pagination="" st-items-by-page="par.itemsPerPage" st-displayed-pages="3"></div>
				</th>
				<th class="col-sm-2">
					<p class="input-group">
						<span class="input-group-addon">
							<i class="glyphicon glyphicon-th-list"></i>
						</span>
						<input placeholder="10" ng-model="par.itemsPerPage" class="form-control" type="number" min="1"/>
					</p>
				</th>
			</tr>
			<tr class="table-header">
				<th st-sort="category">Category</th>
				<th st-sort="item_code">Item Code</th>
				<th st-sort="item_code">Property Number</th>
				<th st-sort="description">Description</th>
				<th st-sort="unit">Unit</th>
				<th st-sort="price">Unit Price</th>
				<th st-sort="quantity">Issued Quantity</th>
				<th st-sort="amount">Amount</th>
				<th st-sort="amount">Serviceable</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
			<tr ng-repeat="item in par.itemsToDisplay">
				<td>{{item.category}}</td>
				<td>{{item.item_code}}</td>
				<td>{{item.property_number}}</td>
				<td>{{item.description}}</td>
				<td>{{item.unit}}</td>
				<td align="right">{{item.price | currency:"Php "}}</td>
				<td align="right">{{item.quantity_subtracted}}</td>
				<td align="right">{{item.amount | currency:"Php "}}</td>
				<td>
					<div ng-if="item.serviceable">
						<a class="btn" ng-click="par.toggleServiceable(par.id, item.id, item.serviceable)">
							<span class="glyphicon glyphicon-check" aria-hidden="true"></span>
						</a>
					</div>
					<div ng-if="!item.serviceable">
						<a class="btn" ng-click="par.toggleServiceable(par.id, item.id, item.serviceable)">
							<span class="glyphicon glyphicon-unchecked" aria-hidden="true"></span>
						</a>
					</div>
				</td>
				<td>
					<a class="btn btn-primary btn-circle" href="/#/par/transfer/{{par.id}}">
						<span class="glyphicon glyphicon-transfer" aria-hidden="true"></span>
					</a>
				</td>
			</tr>
		</tbody>
		<tfoot>
			<tr>
				<td colspan="10" class="text-center">
					<div st-pagination="" st-items-by-page="itemsPerPage" st-displayed-pages="7"></div>
				</td>
			</tr>
		</tfoot>
	</table>
</div>
